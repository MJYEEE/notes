# Dokcerfile
Docker 镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像不包含任何动态数据，其内容在构建之后也不会被改变。

镜像的定制实际上就是定制每一层所添加的配置、文件。如果我们可以把每一层修改、安装、构建、操作的命令都写入一个脚本，用这个脚本来构建、定制镜像，那么之前提及的无法重复的问题、镜像构建透明性的问题、体积的问题就都会解决。这个脚本就是 Dockerfile。

Dockerfile 是一个文本文件，其内包含了一条条的指令(Instruction)，每一条指令构建一层，因此每一条指令的内容，就是描述该层应当如何构建。有了 Dockerfile，当我们需要定制自己额外的需求时，只需在 Dockerfile 上添加或者修改指令，重新生成 image 即可，省去了敲命令的麻烦。


## 如何使用Dockerfile去制作Docker镜像

### 1.准备好一个dockerfile
### 2.执行构建命令
```
docker build -t this_docker:v1.0.
```
- **docker build**: 用Dockerfile构建镜像的命令关键词
- **-t**： this_docker:v1.0 给新构建的镜像取名为this_docker，并设定版本为v1.0，如果存在多个镜像下，或使用多个镜像标签，就可以使用多个-t参数
- **-f**： 显示指定构建镜像的Dockerfile文件（即Dockerfile可不在当前路径下，且命名不一定为Dockerfile）。如不使用，则默认为上下文路径。
- 指令最后一个 **'.'** 是上下文路径：上下文路径，是指 docker 在构建镜像，有时候想要使用到本机的文件（比如复制），docker build 命令得知这个路径后，会将路径下的所有内容打包。
  
**ps**：命令的最后有一个‘.’，默认使用”上下文目录（context）“下的名为Dockerfile的文件作为Dockerfile。在此，即用当前路径下的Dockerfile进行构建。
- 由于 docker 的运行模式是 C/S。我们本机是 C，docker 引擎是 S。实际的构建过程是在 docker 引擎下完成的，所以这个时候无法用到我们本机的文件。这就需要把我们本机的指定目录下的文件一起打包提供给 docker 引擎使用。
- 如果未说明最后一个参数，那么默认上下文路径就是 Dockerfile 所在的位置。
- 注意：上下文路径下不要放无用的文件，因为会一起打包发送给 docker 引擎，如果文件过多会造成过程缓慢。